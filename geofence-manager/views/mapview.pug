|<!doctype html>	
html
  head    
    link(rel='stylesheet', href='/stylesheets/style.css', type='text/css')
    link(href='/javascripts/lib/jquery-ui-1.12.1/jquery-ui.css', rel='stylesheet', type='text/css')
    link(href='/javascripts/lib/jtable.2.4.0/themes/metro/crimson/jtable.css', rel='stylesheet', type='text/css')
    link(href='/javascripts/lib/jtable.2.4.0/themes/jqueryui/jtable_jqueryui.css', rel='stylesheet', type='text/css')
    script(src='/jquery/jquery.min.js', type='text/javascript')
    script(src='/javascripts/lib/jquery-ui-1.12.1/jquery-ui.js', type='text/javascript')
    script(src='/javascripts/lib/jtable.2.4.0/jquery.jtable.js', type='text/javascript')
    meta(name='viewport', content='initial-scale=1,maximum-scale=1,user-scalable=no')
    script(src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.js', type='text/javascript')
    link(href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.26.0/mapbox-gl.css', rel='stylesheet', type='text/css')
    |    <style>
    |    body { margin:0; padding:0; }
    |    #map { position:absolute; top:0; bottom:0; width:100%; }
    |</style>
    |<script type='text/javascript'>
    |  $(document).ready(function () {
    |    function dateFormat(sdate){
    |       var date = new Date(sdate);
    |       return date.getMonth() + 1 + '/' + date.getDate() + '/' +  date.getFullYear();   
    |    }
    |});            
    |</script>
    |<script type="text/javascript">   
    |  
    |</script>
  body
    script(src='https://api.tiles.mapbox.com/mapbox.js/plugins/turf/v3.0.11/turf.min.js')
    script(src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v0.12.1/mapbox-gl-draw.js')
    link(href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-draw/v0.12.1/mapbox-gl-draw.css',rel='stylesheet',type='text/css')
    div(id='map')
    |<div class='management-box'>
    |<p><strong>manage geofence service</strong></p>
    |<form>
    |<fieldset>
    |  <p>
    |  <label for="project">project name</label>
    |  <input type="text" name="project" id="project" value="general" class="text ui-widget-content ui-corner-all">
    |  </p>
    |</fieldset>
    |</form>
    |<div id='start-service' class='button button'>Start geospatial service</div>
    |<div id='stop-service' class='button button'>Stop geospatial service</div>
    |<div id='save-data' class='button button'>Save project data</div>
    |<div id='load-data' class='button button'>Load project data</div>
    |<div id='get-regions' class='button button'>Get geofence regions</div>
    |<div id='set-regions' class='button button'>Set geofence regions</div>
    |<div id='results-area'></div>
    |</div>
    |<div id="dialog-form" title="Region Parameters">
    |<p class="validateTips"></p>
    |<form>
    |<fieldset>
    |  <p>
    |  <label for="regionid">Region Id</label>
    |  <input type="text" name="regionid" id="regionid" value="xxx" class="text ui-widget-content ui-corner-all">
    |  </p>
    |  <p>
    |  <div id="radiusForm">
    |  <label for="radius">Radius</label>
    |  <input type="text" name="radius" id="radius" value="5000" class="text ui-widget-content ui-corner-all">
    |  </p>
    |  <p>
    |  <label for="vertices">Num Vertices (0 for circle)</label>
    |  <input type="text" name="vertices" id="vertices" value="xxxxxxx" class="text ui-widget-content ui-corner-all">
    |  </p>
    |  </div>
    |  </p>
    |  <p>
    |  <label for="notifyOnEntry">Notify on Entry</label>
    |  <input type="text" name="notifyOnEntry" id="notifyOnEntry" value="false" class="text ui-widget-content ui-corner-all">
    |  </p>
    |  <p>
    |  <label for="notifyOnExit">Notify on Exit</label>
    |  <input type="text" name="notifyOnExit" id="notifyOnExit" value="false" class="text ui-widget-content ui-corner-all">
    |  </p>
    |  <p>
    |  <label for="minimumDwellTime">Min Dwell Time</label>
    |  <input type="text" name="minimumDwellTime" id="minimumDwellTime" value="0" class="text ui-widget-content ui-corner-all">
    |  </p>
    |  <p>
    |  <label for="timeout">Timeout</label>
    |  <input type="text" name="timeout" id="timeout" value="0" class="text ui-widget-content ui-corner-all">
    |  </p>
    | <!-- Allow form submission with keyboard without duplicating the dialog button -->
    |  <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
    |</fieldset>
    |</form>
    |</div>
    script(src='/javascripts/regions.js', type='text/javascript')
    script(src='/javascripts/mapdisplay.js', type='text/javascript')
